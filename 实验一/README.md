## 实验一    《多源数据集成、清洗和统计》

#### 一、实验内容
##### 
广州大学某班有同学100人，现要从两个数据源汇总学生数据。第一个数据源在数据库中，第二个数据源在txt文件中，两个数据源课程存在缺失、冗余和不一致性，请用C/C++/Java程序实现对两个数据源的一致性合并以及每个学生样本的数值量化。

● 数据库表：ID (int),  姓名(string), 家乡(string:限定为Beijing / Guangzhou / Shenzhen / Shanghai), 性别（string:boy/girl）、身高（float:单位是cm)）、课程1成绩（float）、课程2成绩（float）、...、课程10成绩(float)、体能测试成绩（string：bad/general/good/excellent）；其中课程1-课程5为百分制，课程6-课程10为十分制。

● txt文件：ID(string：6位学号)，性别（string:male/female）、身高（string:单位是m)）、课程1成绩（string）、课程2成绩（string）、...、课程10成绩(string)、体能测试成绩（string：差/一般/良好/优秀）；其中课程1-课程5为百分制，课程6-课程10为十分制。

两个数据源合并后读入内存，并统计：

1. 学生中家乡在Beijing的所有课程的平均成绩。

2. 学生中家乡在广州，课程1在80分以上，且课程9在9分以上的男同学的数量。(备注：该处做了修正，课程10数据为空，更改为课程9)

3. 比较广州和上海两地女生的平均体能测试成绩，哪个地区的更强些？

4. 学习成绩和体能测试成绩，两者的相关性是多少？（九门课的成绩分别与体能成绩计算相关性）

<img src="https://raw.githubusercontent.com/waasoulmate/machine-learning/main/%E5%AE%9E%E9%AA%8C%E4%B8%80/%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C/%E9%97%AE%E9%A2%981%E3%80%812%E3%80%813%E3%80%814.png"/>

#### 二、实验环境:

##### 1、文件说明
**数据格式转换与集成.py**文件为将两份不同格式的样本数据都转换成csv格式，然后将转换后的样本数据合成一份，此时在合成后的样本数据中会有两个重复的表头；

**数据清洗.py**文件为对合成后的样本数据进行数据清洗，包括：1.去除合成数据集的重复表头、2.对两份数据集某些属性的不一致的取值格式进行规范化后去重、缺失值填充后再次去重（缺失值填充分为两种情况：1.针对一名学生在两份样本数据中同时出现且有不同程度的属性缺失的情况，缺失值填充的方法为筛选出重复出现的学生对其缺失属性进行互补；2.对于完成第一种情况的缺失值填充后仍存在的缺失值在样本数据中无法直接找到对应值，故采用的方法是对该缺失值取该属性所有样本的平均值）、3.对样本数据中出现的同一ID对应多个学生的情况，采取的方法为仅保留该ID对应的其中一名学生，其他对应该ID的学生直接剔除，数据清洗完成；

**问题1、2、3、4.py**文件为对要求的四个问题的实现，需要指出的是由于数据中体能成绩不是以数值进行量化，在完成这四个问题时对该属性进行百分制量化；

**样本数据集文件夹**中为老师提供的两份不同格式的样本数据；

**实验结果文件夹**中包括：两份数据源.csv文件（对两份不同格式数据源格式转换为csv后的结果）、三份result.csv文件（分别为：result_v1为数据格式转换与集成后的结果、result_v2为去除重复表头后的结果、result_v3为数据清洗完成的最终结果）、数据格式转换与集成的代码运行截图、数据清洗的代码运行截图、问题1、2、3、4代码运行截图

##### 2、运行环境

import pandas as pd //用于读取csv数据

import random //用于体能成绩量化

import glob //用于数据源集成时遍历指定路径下的所有csv文件

import csv //用于操作csv文件

import xlrd //用于读取execl数据

##### 3、函数说明

代码中已标明注释

#### 三、困难与总结:

#####
本次实验样本数据集中数据存在的问题较多，难点在于对样本数据进行全面的清洗，在查阅资料后了解数据清洗的几个大致步骤后，针对这份数据集实际的情况进行相应的处理，最终数据集出现的问题处理得比较完整。

总结此次实验学到很多，第一次接触数据清洗，刚开始不知如何下手，在网上看教程后慢慢对数据清洗有了大致的了解，知道数据清洗是机器学习的基础，这一步做得好，之后的实验才能得出理想的结果。



